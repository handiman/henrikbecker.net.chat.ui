{"version":3,"file":"cv-chat.entry.js","sources":["src/cv-chat.css?tag=cv-chat&encapsulation=shadow","src/cv-chat.tsx"],"sourcesContent":[":host {\r\n  --cvchat-bg: #ffffff;\r\n  --cvchat-color: #333333;\r\n  --cvchat-font: system-ui, sans-serif;\r\n  --cvchat-border-radius: 8px;\r\n  --cvchat-button-bg: #0078d4;\r\n  --cvchat-button-color: #ffffff;\r\n  --cvchat-button-disabled-bg: #999999;\r\n  --cvchat-example-bg: #eeeeee;\r\n  --cvchat-response-bg: #f9f9f9;\r\n  --cvchat-meta-bg: #eef;\r\n  --cvchat-history-bg: #f4f4f4;\r\n\r\n  display: block;\r\n  background-color: var(--cvchat-bg);\r\n  color: var(--cvchat-color);\r\n  font-family: var(--cvchat-font);\r\n  border-radius: var(--cvchat-border-radius);\r\n  padding: 1rem;\r\n  box-sizing: border-box;\r\n  max-width: 600px;\r\n  margin: auto;\r\n}\r\n\r\n/* Parts */\r\n::part(label) {\r\n  font-weight: bold;\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n::part(input) {\r\n  width: 100%;\r\n  padding: 0.5rem;\r\n  margin-bottom: 0.75rem;\r\n  font-size: 1rem;\r\n  border: 1px solid #aaa;\r\n  border-radius: 4px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n::part(button) {\r\n  padding: 0.5rem 1rem;\r\n  font-size: 1rem;\r\n  background-color: var(--cvchat-button-bg);\r\n  color: var(--cvchat-button-color);\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  margin-top: 0.25rem;\r\n}\r\n\r\n::part(button:disabled) {\r\n  background-color: var(--cvchat-button-disabled-bg);\r\n  cursor: wait;\r\n}\r\n\r\n::part(examples) {\r\n  margin-top: 1rem;\r\n}\r\n\r\n::part(examples-label) {\r\n  font-weight: bold;\r\n  margin-bottom: 0.25rem;\r\n}\r\n\r\n::part(example-button) {\r\n  background-color: var(--cvchat-example-bg);\r\n  color: #333;\r\n  border: 1px solid #ccc;\r\n  margin: 0.25rem 0.25rem 0.25rem 0;\r\n  font-size: 0.9rem;\r\n  padding: 0.4rem 0.6rem;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n::part(response) {\r\n  margin-top: 1.5rem;\r\n  background: var(--cvchat-response-bg);\r\n  padding: 1rem;\r\n  border-radius: 6px;\r\n  border-left: 4px solid var(--cvchat-button-bg);\r\n}\r\n\r\n::part(confidence) {\r\n  display: inline-block;\r\n  margin-top: 0.5rem;\r\n  font-size: 0.85rem;\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-weight: bold;\r\n}\r\n\r\n.confidence.factual {\r\n  background-color: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.confidence.interpretation {\r\n  background-color: #fff3cd;\r\n  color: #856404;\r\n}\r\n\r\n.confidence.creative {\r\n  background-color: #f8d7da;\r\n  color: #721c24;\r\n}\r\n\r\n::part(tone) {\r\n  margin-top: 0.5rem;\r\n  font-style: italic;\r\n  color: #444;\r\n}\r\n\r\n::part(meta-toggle) {\r\n  margin-top: 0.75rem;\r\n  background: none;\r\n  border: none;\r\n  color: var(--cvchat-button-bg);\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  text-decoration: underline;\r\n}\r\n\r\n::part(meta-info) {\r\n  margin-top: 0.5rem;\r\n  font-size: 0.85rem;\r\n  background: var(--cvchat-meta-bg);\r\n  padding: 0.5rem;\r\n  border-radius: 4px;\r\n}\r\n\r\n::part(history) {\r\n  margin-top: 2rem;\r\n}\r\n\r\n::part(history) h4 {\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n::part(history) ul {\r\n  list-style: none;\r\n  padding-left: 0;\r\n}\r\n\r\n::part(history) li {\r\n  margin-bottom: 1rem;\r\n  background: var(--cvchat-history-bg);\r\n  padding: 0.75rem;\r\n  border-radius: 4px;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n/* ðŸ“± Mobile tweaks */\r\n@media (max-width: 480px) {\r\n  :host {\r\n    padding: 0.75rem;\r\n    border-radius: 0;\r\n    border: none;\r\n  }\r\n\r\n  ::part(button),\r\n  ::part(example-button) {\r\n    width: 100%;\r\n    margin-top: 0.5rem;\r\n  }\r\n\r\n  ::part(response),\r\n  ::part(meta-info),\r\n  ::part(history) li {\r\n    padding: 0.75rem;\r\n    font-size: 0.9rem;\r\n  }\r\n}","import { Component, h, State } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'cv-chat',\r\n  styleUrl: 'cv-chat.css',\r\n  shadow: true\r\n})\r\nexport class CvChat {\r\n  @State() question: string = '';\r\n  @State() answer: string = '';\r\n  @State() confidence: string = '';\r\n  @State() promptGuard: string = '';\r\n  @State() chunks: string[] = [];\r\n  @State() loading: boolean = false;\r\n  @State() showMeta: boolean = false;\r\n  @State() history: { question: string; answer: string }[] = [];\r\n\r\n  examples = [\r\n    \"What has Henrik done in .NET?\",\r\n    \"Has he worked with automation?\",\r\n    \"What's his philosophy on AI?\"\r\n  ];\r\n\r\n  async handleAsk() {\r\n    if (!this.question.trim()) return;\r\n\r\n    this.loading = true;\r\n    this.answer = '';\r\n    this.confidence = '';\r\n    this.promptGuard = '';\r\n    this.chunks = [];\r\n\r\n    try {\r\n      const response = await fetch('https://henrikbecker.azurewebsites.net/ai/ask', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(this.question) // sending raw string\r\n      });\r\n\r\n      const data = await response.json();\r\n      this.answer = data.answer;\r\n      this.confidence = data.confidence;\r\n      this.promptGuard = data.promptGuard;\r\n      this.chunks = data.chunks;\r\n      this.history = [...this.history, { question: this.question, answer: data.answer }];\r\n    } catch (error) {\r\n      this.answer = error + \" Something went wrong while contacting Henrik's brain.\";\r\n    }\r\n\r\n    this.loading = false;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div part=\"container\">\r\n        <label htmlFor=\"question\" part=\"label\">Ask Henrik's CV bot anything</label>\r\n        <input\r\n          id=\"question\"\r\n          part=\"input\"\r\n          type=\"text\"\r\n          value={this.question}\r\n          onInput={e => this.question = (e.target as HTMLInputElement).value}\r\n          placeholder=\"Type your question here...\"\r\n        />\r\n        <button part=\"button\" onClick={() => this.handleAsk()} disabled={this.loading}>\r\n          {this.loading ? 'Thinking like Henrikâ€¦' : 'Ask the CV bot'}\r\n        </button>\r\n\r\n        <div part=\"examples\">\r\n          <p part=\"examples-label\">Example questions:</p>\r\n          {this.examples.map(example => (\r\n            <button part=\"example-button\" onClick={() => this.question = example}>\r\n              {example}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {this.answer && (\r\n          <div part=\"response\">\r\n            <p>{this.answer}</p>\r\n            <span part=\"confidence\" class={`confidence ${this.confidence.toLowerCase()}`}>\r\n              {this.confidence}\r\n            </span>\r\n            <p part=\"tone\">ðŸ§  Tone: Henrik-style</p>\r\n\r\n            <button part=\"meta-toggle\" onClick={() => this.showMeta = !this.showMeta}>\r\n              {this.showMeta ? 'Hide meta' : 'Show meta'}\r\n            </button>\r\n\r\n            {this.showMeta && (\r\n              <div part=\"meta-info\">\r\n                <p><strong>PromptGuard:</strong> {this.promptGuard}</p>\r\n                <p><strong>Chunks:</strong></p>\r\n                <ul>\r\n                  {this.chunks.map(chunk => <li>{chunk}</li>)}\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {this.history.length > 0 && (\r\n          <div part=\"history\">\r\n            <h4>Previous questions</h4>\r\n            <ul>\r\n              {this.history.map((item, index) => (\r\n                <li key={index}>\r\n                  <strong>{item.question}</strong><br />\r\n                  <span>{item.answer}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}"],"names":[],"mappings":"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"}